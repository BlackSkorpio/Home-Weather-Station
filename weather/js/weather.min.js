(function(){var br=true;var aZ=true;var bg=false;var B=true;var ba="9aa352a903101d13f7be396a2414e280";var D="se";var O="metric";var bB,be,o,Z,bG,W,K,aA,av,bj,i,A,aN,L,bx,bh,a8,bp,aj,aY,aC;var aV,ay,bq,m,aa,aD,a3,bC,v,ae,aK,bd,aI,bb,c,H,ar,aT,bt,r,aE,a4,bE,w,af,aL;var bi,x,at,aO,bc,aF,aS,an,J,N,V;var M,aU,am,a5,bA,F;var R,bI,t,j,C,Q,al,bf,bo,bH;var s,Y,ao,bD,bk,ab,u,ah,aG,U,aM,bF,b;switch(D){case"se":bB="Läser in vädret";be="GEO-location service är inte tillgänglig, försök igen senare.";o="GPS: ";Z="Min/Max temperatur idag:<br>";bG="Lufttryck: ";W="Luftfuktighet: ";K="Vindhastighet: ";aA="Soluppgång: ";av="Solnedgång: ";bj="Golden hour: ";i="morning golden hour (soft light, best time for photography) ends";A="evening golden hour starts";aN="Månen går upp: ";L="Månen går ner: ";bx="klar";bh="mulet";a8="moln";bp="regn";aj="snö";aY="sol";aC="dimm";ay="Vindstyrka i beaufort: ";bq="Lugnt";m="Svag vind";aa=m;aD="Måttlig vind";a3=aD;bC="Frisk vind";v=bC;ae="Hård vind";aK=ae;bd="Mycket hård vind";aI="Storm";bb="Svår storm";c="Orkan";H=c;ar=c;aT=c;bt=c;r=c;aE="Or just sufficient to give steerage way.";a4="Or that in which a man-of-war, with all sail set, and clean full, would go in smooth water, from";ae="High wind, moderate gale, near gale";bE="Or that to which a well-conditioned man-of-war could just carry in chase, full and by";w="Or that which she could scarcely bear close-reefed main-topsail and reefed foresail.";af="Or that which would reduce her to storm stay-sails.";aL="Or that which no canvas could withstand.";bi=["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"];x=["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"];at=["N","NNV","NV","VNV","V","VSV","SV","SSV","S","SSÖ","SÖ","ÖSÖ","Ö","ÖNÖ","NÖ","NNÖ","N"];break;default:bB="getting weather";be="IP address location service is unavailable.";o="GPS: ";Z="Min/Max temperatur idag:<br>";bG="Pressure: ";W="Humidity: ";K="Winds: ";aA="Sunrise: ";av="Sunset: ";bj="Golden hour: ";i="morning golden hour (soft light, best time for photography) ends";A="evening golden hour starts";aN="Moon Rises: ";L="Moon Sets: ";bx="clear";bh="cloud";bp="rain";aj="snow";aY="sun";aC="mist";ay="Beaufort number: ";bq="Calm";m="Light air";aa="Light breeze";aD="Gentle breeze";a3="Moderate breeze";bC="Fresh breeze";v="Strong breeze";ae="Moderate gale";aK="Fresh gale";bd="Strong gale";aI="Whole gale";bb="Storm";c="Hurricane";H=c;ar=c;aT=c;bt=c;r=c;aE="Or just sufficient to give steerage way.";a4="Or that in which a man-of-war, with all sail set, and clean full, would go in smooth water, from";ae="High wind, moderate gale, near gale";bE="Or that to which a well-conditioned man-of-war could just carry in chase, full and by";w="Or that which she could scarcely bear close-reefed main-topsail and reefed foresail.";af="Or that which would reduce her to storm stay-sails.";aL="Or that which no canvas could withstand.";bi=["January","February","March","April","May","June","July","August","September","October","November","December"];x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];at=["N","NNW","NW","WNW","W","WSW","SW","SSW","S","SSE","SE","ESE","E","ENE","NE","NNE","N"]}switch(O){case"metric":M="°C";aU="ms";am="bft";a5=" hPa";bA="%";F="eu";break;case"imperial":M="°F";aU="mph";am="bft";a5=" hPa";bA="%";F="en";break;default:M="°K";aU="mph";am="bft";a5=" hPa";bA="%";F="en"}var aP="<span class='divider'>|</span>";var an="&#013;";var R='<svg class="svgIcon" role="img">';var bI='<title style="white-space:pre-line;margin:0 10px 0 10px;">';var t="</title>";var j='<use xlink:href="#';var C='" /></svg>';var Q='<span class="dataText">';var al="</span>";var bf='<time class="dataText" datetime="';var bo='">';var bH="</time>";var s=R+j+"compass_rose"+C;var Y=R+bI+o+t+j+"location"+C;var ao=R+bI+aA+t+j+"sunrise"+C;var bD=R+bI+av+t+j+"sunset"+C;var bk=R+bI+bj+t+j+"goldenhour"+C;var ab=R+bI+aN+t+j+"moonrise"+C;var u=R+bI+L+t+j+"moonset"+C;var ah=R+bI+W+t+j+"humidity"+C;var aG=R+bI+K+t+j+"windspeed"+C;var U=R+bI+bG+t+j+"pressure"+C;var aM=R+bI+M+t+j+"temperatur"+C;var bF=R+j+"windirection"+C;var b='<svg class="getting" role="img">'+bI+bB+t+j+"weatherDude"+C;var a,bn,aX,aQ,ac,aJ,ap;var bl,a2,aw,ag,aW;var X="";var y,q,k,T;var bm,g;var bw=0;var e=0;var f,a9,I,a6,by,bs;var au,bu,aB,S,d,aH,G,l,z,h;document.addEventListener("DOMContentLoaded",bz,false);function bz(){var bJ=window.location.href;if(bJ.indexOf("localhost:")>=0||bJ.indexOf("file:")>=0){br=false}if(B){var bK=new XMLHttpRequest();bK.open("GET","img/sprite.svg",true);bK.send();bK.onload=function(bM){var bL=document.createElement("div");bL.className="svgSprite";bL.innerHTML=bK.responseText;document.body.insertBefore(bL,document.body.childNodes[0])}}document.getElementsByTagName("html")[0].setAttribute("lang",D);a=document.getElementById("container");bn=document.getElementById("svgValues");aQ=document.getElementById("date");ac=document.getElementById("time");q=document.getElementById("weather");ap=document.getElementById("details");aJ=document.getElementById("weatherdetails");ag=document.getElementById("gps");T=document.getElementById("beaufort");k=document.getElementById("icon");f=document.getElementById("cloudlayer");a9=document.getElementById("rainlayer");I=document.getElementById("snowlayer");a6=document.getElementById("sunlayer");by=document.getElementById("clearnightlayer");bs=document.getElementById("mistlayer");aW=document.getElementById("gpsbutton");aW.addEventListener("click",a1,false);g=bv(0,14);a1();p();setInterval(p,1000)}function p(){var bL=a7();aQ.innerHTML=bL.datehtml;ac.innerHTML=bL.timehtml;aQ.dateTime=aX.toISOString();ac.dateTime=aX.toISOString();var bK=aX.getSeconds();var bJ=aX.getMinutes();if(bg&&bK===0){a0();if(bJ%15===g){ai()}if(bJ%5===0&&!aZ){a1()}}}function a7(){aX=new Date();var bR=aX.getFullYear();var bQ=bi[aX.getMonth()];var bL=aX.getDate();var bS=x[aX.getDay()];var bN=aX.getHours();var bM=aX.getMinutes();var bT=aX.getSeconds();var bV=bM<10?"0"+bM:bM;var bP=bT<10?"0"+bT:bT;if(O=="metric"){var bJ=bN<10?"0"+bN:bN;var bU=bS+" "+bL+" "+bQ+" "+bR;var bO=bJ+":"+bV+"<span>:"+bP+"</span>"}else{var bK=bN<12?"AM":"PM";var bJ=bN>12?bN-12:bN;if(bN===0){bJ=12}var bU=bS+", "+bQ+" "+bL+", "+bR;var bO=bJ+":"+bV+"<span>:"+bP+" "+bK+"</span>"}return{datehtml:bU,timehtml:bO}}function a1(){if(aZ){aR()}else{aq()}}function aq(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(az,P)}else{ag.innerHTML=be;bg=false}}function aR(){var bJ=new XMLHttpRequest();bJ.onreadystatechange=function(){if(!bg){if(this.readyState===4){var bK=JSON.parse(bJ.responseText);var bL=true;if(this.status===200&&bL){if(bK.status==="success"){bl=Number(bK.lat);a2=Number(bK.lon);X=bK.city;aw=bK.region;country=bK.countryCode;ag.innerHTML="<span id='city'>"+X+",</span><span id='region'> "+aw+"</span><span id='country'> ("+country+")</span> <span class='svgIcon' id='gps_compass'>"+s+"</span>";aW.style.display="none";ax()}else{aW.style.display="block";aZ=false}}else{aW.style.display="block";aZ=false}}}};bJ.open("GET","https://extreme-ip-lookup.com/json/",true);bJ.send()}function P(){ag.innerHTML=be}function az(bJ){aW.style.display="none";bl=bJ.coords.latitude;a2=bJ.coords.longitude;ag.innerHTML=X+" ("+bl.toFixed(2)+" | "+a2.toFixed(2)+")";ax()}function ax(){if(br){y="weather.php?lat="+bl+"&lon="+a2+"&lang="+D+"&units="+O}else{y="https://api.openweathermap.org/data/2.5/weather?";y+="lat="+bl+"&lon="+a2+"&lang="+D+"&units="+O+"&APPID="+ba}if(!bg){ai();bg=true}}function ai(){q.innerHTML=bB+"<br />"+b;var bJ=new XMLHttpRequest();if(br){bJ.responseType="document"}else{bJ.responseType="text"}bJ.onreadystatechange=function(){if(this.readyState===4&&this.status===200){var bK=br?bJ.response.body.textContent:bJ.responseText;bm=JSON.parse(bK);n(bm)}};bJ.open("GET",y,true);bJ.send()}function n(b5){if(!aZ){X=b5.name;aw="";ag.innerHTML=Q+X+" ("+bl.toFixed(2)+" | "+a2.toFixed(2)+")"+al}var bR=b5.main.pressure;var b4=bR/10;var b0,bV,bU,bY,bK,bT,bL,b2,bJ,bO;var b0=new Date(b5.sys.sunrise*1000);var bU=new Date();var bV=new Date(b5.sys.sunset*1000);var bY=b0.getHours()+"."+b0.getMinutes();var bK=bU.getHours()+"."+bU.getMinutes();var bT=bV.getHours()+"."+bV.getMinutes();var bL=bT-bK;var b2=bT-bY;var bJ=bL*100;var bO=bJ/b2;var b3=":root{";b3+="--hPa:"+b4+"deg;";b3+="--windeg:"+b5.wind.deg+"deg;";b3+="--sunPosition:"+bO+"%;";b3+="}";bn.innerHTML=b3;var bS='<li id="wd_hilowtemp">';bS+=Q;bS+="Hourly Max | Min: ";bS+=b5.main.temp_max+M;bS+=aP;bS+=b5.main.temp_min+M;bS+=al;var b6='<li id="wd_location">';b6+=Y;b6+=Q;b6+='<a href="https://openweathermap.org/city/';b6+=b5.id;b6+='" title="">';b6+=bl.toFixed(2);b6+=aP;b6+=a2.toFixed(2);b6+="</a>";b6+=al;var bP='<li id="wd_pressure">';bP+=U;bP+=Q;bP+=b5.main.pressure;bP+=a5;bP+=al;var b1='<li id="wd_humidity">';b1+=ah;b1+=Q;b1+=b5.main.humidity;b1+=bA;b1+=al;var bZ='<li id="wd_wind">';bZ+=aG;bZ+=Q;bZ+=b5.wind.speed;bZ+=aU;bZ+=al;if(b5.wind.deg!=null){bZ+=Q;bZ+=E(b5.wind.deg);bZ+=al;bZ+=R;bZ+=bI;bZ+=K;bZ+=b5.wind.deg.toFixed(0);bZ+="° ";bZ+=E(b5.wind.deg);bZ+=t;bZ+=j;bZ+="windirection";bZ+=C}var bQ='<li id="wd_sunrise">';bQ+=ao;bQ+=Q;bQ+=new Date(b5.sys.sunrise*1000).toLocaleTimeString(F);bQ+=al;var bW='<li id="wd_sunset">';bW+=bD;bW+=Q;bW+=new Date(b5.sys.sunset*1000).toLocaleTimeString(F);bW+=al;aJ.innerHTML=bZ+bP+b1+bQ+bW+b6;ap.className="visible";var bX=b5.weather[0];k.className="weather i-"+bX.icon;k.style.opacity=1;k.innerHTML=R+j+bX.icon+C;var bN=b5.main.temp;var bM=aM;bM+=Q;bM+=bN;bM+=M;bM+=al;bM+=Q;bM+=bX.description;bM+=al;q.innerHTML=bM;ad(b5);a0()}function ad(bL){var bJ=bL.wind.speed;if(bJ>=0&&bJ<=0.2){aF=0;aV=aE+an+bq}if(bJ>=0.3&&bJ<=1.5){aF=1;aV=m+an+aE}if(bJ>=1.6&&bJ<=3.3){aF=2;aV=aa+an+aE}if(bJ>=3.4&&bJ<=5.4){aF=3;aV=aD+an+aE}if(bJ>=5.5&&bJ<=7.9){aF=4;aV=a3+an+aE}if(bJ>=8&&bJ<=10.7){aF=5;aV=bC+an+bE}if(bJ>=10.8&&bJ<=13.8){aF=6;aV=v+an+bE}if(bJ>=13.9&&bJ<=17.1){aF=7;aV=ae+an+bE}if(bJ>=17.2&&bJ<=20.7){aF=8;aV=aK+an+bE}if(bJ>=20.8&&bJ<=24.4){aF=9;aV=bd+an+bE}if(bJ>=24.5&&bJ<=28.4){aF=10;aV=aI+an+w}if(bJ>=28.5&&bJ<=32.6){aF=11;aV=bb+an+af}if(bJ>=32.7&&bJ<=36.9){aF=12;aV=c+an+aL}if(bJ>=37&&bJ<=41.4){aF=13;aV=H+an+aL}if(bJ>=41.5&&bJ<=46.1){aF=14;aV=ar+an+aL}if(bJ>=46.2&&bJ<=50.9){aF=15;aV=aT+an+aL}if(bJ>=51&&bJ<=56){aF=16;aV=bt+an+aL}if(bJ>=56.1&&bJ<=61.2){aF=17;aV=r+an+aL}if(aF>=0&&aF<=2){aS=0,J=65,N=45,V=35}if(aF>=3&&aF<=4){aS=1,J=65,N=45,V=35}if(aF>=5&&aF<=6){aS=2,J=65,N=45,V=35}if(aF>=7&&aF<=8){aS=3,J=55,N=35,V=25}if(aF>=9&&aF<=10){aS=4,J=45,N=25,V=15}if(aF>=11&&aF<=17){aS=5,J=35,N=15,V=5}var bK=ay+aF+am+an+aV;var bM=R;bM+=bI;bM+=bK;bM+=t;bM+=j;bM+="bf"+aS;bM+=C;bM+="<style>.cloud{--windspeed-s:"+J+"s;--windspeed-m:"+N+"s;--windspeed-f:"+V+"s;}</style>";T.className="windspeed i-"+aF+"bf";T.innerHTML=bM}function E(bL){var bJ=[348.75,326.25,303.75,281.25,258.75,236.25,213.75,191.25,168.75,146.25,123.75,101.25,78.75,56.25,33.75,11.25,0];for(var bK=0;bK<bJ.length;bK++){if(bL>bJ[bK]){return at[bK]}}return"__"}function a0(){if(bm){var bJ=bm.weather[0];bw=Number(bm.sys.sunset);e=Number(bm.sys.sunrise);ak();G=(bJ.description.indexOf(bx)>=0);bu=(bJ.description.indexOf(bh)>=0)||bJ.description.indexOf(a8)>=0;f.style.display=bu?"block":"none";f.style.opacity=au?0.75:1;aB=(bJ.description.indexOf(bp)>=0);a9.style.display=aB?"block":"none";a9.style.opacity=au||z?0.05:0.1;S=(bJ.description.indexOf(aj)>=0);I.style.display=S?"block":"none";I.style.opacity=au?0.1:0.75;d=(bJ.description.indexOf(aY)>=0||(G&&!au));a6.style.display=d?"block":"none";aH=(bJ.description.indexOf(bx)>=0)&&au;l=(bJ.description.indexOf(aC)>=0);bs.style.display=l?"block":"none";bs.style.opacity=au?0.75:0.85;if(au&&l){aH=true}by.style.display=aH||z||h?"block":"none";by.style.opacity=z||h?0.2:1}}function ak(){var bN=aX.getTime()/1000;var bL=au;var bK=new Date(e*1000);var bJ=new Date(bw*1000);au=bN>=bw+1740||bN+900<=e;z=bN-bw<1740&&bN-(bw-bJ.getSeconds()-1)>=0;h=e-bN<900&&e-(bN+bK.getSeconds()+1)>=0;if(au!==bL){if(au){a.style.background="#121212 linear-gradient(to bottom left, #121212 10%,#333955 100%)"}else{a.style.background="#87ceeb linear-gradient(to bottom left, #87ceeb 0%,#ccc 100%)"}a.style.color=au?"#fff":"#333";a.style.textShadow=au?"1px 1px 1px black":"2px 2px 4px white"}var bM=bm.weather[0];if(au&&bM.icon.substring(2,3)==="d"){bM.icon=bM.icon.substring(0,2)+"n"}if(!au&&bM.icon.substring(2,3)==="n"){bM.icon=bM.icon.substring(0,2)+"d"}k.className="weather i"+bM.icon;k.innerHTML=R+j+bM.icon+C}function bv(bK,bJ){return Math.floor(Math.random()*(bJ-bK+1))+bK}})();(function(){var b={};var d,c,a;var e=document;var c=e.getElementById("gps");var a=e.getElementById("forecast");b.clean=function(h){var j,g,f=h.childNodes.length;if(f===0){return}for(g=f;g>0;g-=1){j=h.childNodes[g-1];if(j.nodeType===8||(j.nodeType===3&&!/\S/.test(j.nodeValue))){h.removeChild(j)}}};setTimeout(function(){b.clean(c);b.clean(a)},2000)})();