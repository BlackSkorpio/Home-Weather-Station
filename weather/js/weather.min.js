(function(){var bo=true;var aW=true;var bd=false;var B=true;var a7="9aa352a903101d13f7be396a2414e280";var D="se";var M="metric";var by,bb,o,W,bD,T,J,ax,ar,bg,i,A,aK,K,bu,be,a5,bm,ag,aV,az;var aS,av,bn,m,X,aA,a0,bz,v,ab,aH,ba,aF,a8,c,H,ao,aQ,bq,r,aB,a1,bB,w,ac,aI;var bf,x,ap,aL,a9,aC,aP,ak;var L,aR,aj,a2,bx,F;var P,bF,t,j,C,O,ai,bc,bl,bE;var s,V,al,bA,bh,Y,u,ae,aD,S,aJ,bC,b;switch(D){case"se":by="Läser in vädret";bb="GEO-location service är inte tillgänglig, försök igen senare.";o="GPS: ";W="Min/Max temperatur idag:<br>";bD="Lufttryck: ";T="Luftfuktighet: ";J="Vindhastighet: ";ax="Soluppgång: ";ar="Solnedgång: ";bg="Golden hour: ";i="morning golden hour (soft light, best time for photography) ends";A="evening golden hour starts";aK="Månen går upp: ";K="Månen går ner: ";bu="klar";be="mulet";a5="moln";bm="regn";ag="snö";aV="sol";az="dimm";av="Vindstyrka i beaufort: ";bn="Lugnt";m="Svag vind";X=m;aA="Måttlig vind";a0=aA;bz="Frisk vind";v=bz;ab="Hård vind";aH=ab;ba="Mycket hård vind";aF="Storm";a8="Svår storm";c="Orkan";H=c;ao=c;aQ=c;bq=c;r=c;aB="Or just sufficient to give steerage way.";a1="Or that in which a man-of-war, with all sail set, and clean full, would go in smooth water, from";ab="High wind, moderate gale, near gale";bB="Or that to which a well-conditioned man-of-war could just carry in chase, full and by";w="Or that which she could scarcely bear close-reefed main-topsail and reefed foresail.";ac="Or that which would reduce her to storm stay-sails.";aI="Or that which no canvas could withstand.";bf=["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"];x=["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"];ap=["N","NNV","NV","VNV","V","VSV","SV","SSV","S","SSÖ","SÖ","ÖSÖ","Ö","ÖNÖ","NÖ","NNÖ","N"];break;default:by="getting weather";bb="IP address location service is unavailable.";o="GPS: ";W="Min/Max temperatur idag:<br>";bD="Pressure: ";T="Humidity: ";J="Winds: ";ax="Sunrise: ";ar="Sunset: ";bg="Golden hour: ";i="morning golden hour (soft light, best time for photography) ends";A="evening golden hour starts";aK="Moon Rises: ";K="Moon Sets: ";bu="clear";be="cloud";bm="rain";ag="snow";aV="sun";az="mist";av="Beaufort number: ";bn="Calm";m="Light air";X="Light breeze";aA="Gentle breeze";a0="Moderate breeze";bz="Fresh breeze";v="Strong breeze";ab="Moderate gale";aH="Fresh gale";ba="Strong gale";aF="Whole gale";a8="Storm";c="Hurricane";H=c;ao=c;aQ=c;bq=c;r=c;aB="Or just sufficient to give steerage way.";a1="Or that in which a man-of-war, with all sail set, and clean full, would go in smooth water, from";ab="High wind, moderate gale, near gale";bB="Or that to which a well-conditioned man-of-war could just carry in chase, full and by";w="Or that which she could scarcely bear close-reefed main-topsail and reefed foresail.";ac="Or that which would reduce her to storm stay-sails.";aI="Or that which no canvas could withstand.";bf=["January","February","March","April","May","June","July","August","September","October","November","December"];x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];ap=["N","NNW","NW","WNW","W","WSW","SW","SSW","S","SSE","SE","ESE","E","ENE","NE","NNE","N"]}switch(M){case"metric":L="°C";aR="ms";aj="bft";a2=" hPa";bx="%";F="eu";break;case"imperial":L="°F";aR="mph";aj="bft";a2=" hPa";bx="%";F="en";break;default:L="°K";aR="mph";aj="bft";a2=" hPa";bx="%";F="en"}var aM="<span class='divider'>|</span>";var ak="&#013;";var P='<svg class="svgIcon" role="img">';var bF='<title style="white-space:pre-line;margin:0 10px 0 10px;">';var t="</title>";var j='<use xlink:href="#';var C='" /></svg>';var O='<span class="dataText">';var ai="</span>";var bc='<time class="dataText" datetime="';var bl='">';var bE="</time>";var s=P+j+"compass_rose"+C;var V=P+bF+o+t+j+"location"+C;var al=P+bF+ax+t+j+"sunrise"+C;var bA=P+bF+ar+t+j+"sunset"+C;var bh=P+bF+bg+t+j+"goldenhour"+C;var Y=P+bF+aK+t+j+"moonrise"+C;var u=P+bF+K+t+j+"moonset"+C;var ae=P+bF+T+t+j+"humidity"+C;var aD=P+bF+J+t+j+"windspeed"+C;var S=P+bF+bD+t+j+"pressure"+C;var aJ=P+bF+L+t+j+"temperatur"+C;var bC=P+j+"windirection"+C;var b='<svg class="getting" role="img">'+bF+by+t+j+"weatherDude"+C;var a,bk,aU,aN,Z,aG,am;var bi,aZ,at,ad,aT;var U="";var y,q,k,R;var bj,g;var bt=0;var e=0;var f,a6,I,a3,bv,bp;var aq,br,ay,Q,d,aE,G,l,z,h;document.addEventListener("DOMContentLoaded",bw,false);function bw(){var bG=window.location.href;if(bG.indexOf("localhost:")>=0||bG.indexOf("file:")>=0){bo=false}if(B){var bH=new XMLHttpRequest();bH.open("GET","img/sprite.svg",true);bH.send();bH.onload=function(bJ){var bI=document.createElement("div");bI.className="svgSprite";bI.innerHTML=bH.responseText;document.body.insertBefore(bI,document.body.childNodes[0])}}document.getElementsByTagName("html")[0].setAttribute("lang",D);a=document.getElementById("container");bk=document.getElementById("svgValues");aN=document.getElementById("date");Z=document.getElementById("time");q=document.getElementById("weather");am=document.getElementById("details");aG=document.getElementById("weatherdetails");ad=document.getElementById("gps");R=document.getElementById("beaufort");k=document.getElementById("icon");f=document.getElementById("cloudlayer");a6=document.getElementById("rainlayer");I=document.getElementById("snowlayer");a3=document.getElementById("sunlayer");bv=document.getElementById("clearnightlayer");bp=document.getElementById("mistlayer");aT=document.getElementById("gpsbutton");aT.addEventListener("click",aY,false);g=bs(0,14);aY();p();setInterval(p,1000)}function p(){var bI=a4();aN.innerHTML=bI.datehtml;Z.innerHTML=bI.timehtml;aN.dateTime=aU.toISOString();Z.dateTime=aU.toISOString();var bH=aU.getSeconds();var bG=aU.getMinutes();if(bd&&bH===0){aX();if(bG%15===g){af()}if(bG%5===0&&!aW){aY()}}}function a4(){aU=new Date();var bO=aU.getFullYear();var bN=bf[aU.getMonth()];var bI=aU.getDate();var bP=x[aU.getDay()];var bK=aU.getHours();var bJ=aU.getMinutes();var bQ=aU.getSeconds();var bS=bJ<10?"0"+bJ:bJ;var bM=bQ<10?"0"+bQ:bQ;if(M=="metric"){var bG=bK<10?"0"+bK:bK;var bR=bP+" "+bI+" "+bN+" "+bO;var bL=bG+":"+bS+"<span>:"+bM+"</span>"}else{var bH=bK<12?"AM":"PM";var bG=bK>12?bK-12:bK;if(bK===0){bG=12}var bR=bP+", "+bN+" "+bI+", "+bO;var bL=bG+":"+bS+"<span>:"+bM+" "+bH+"</span>"}return{datehtml:bR,timehtml:bL}}function aY(){if(aW){aO()}else{an()}}function an(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(aw,N)}else{ad.innerHTML=bb;bd=false}}function aO(){var bG=new XMLHttpRequest();bG.onreadystatechange=function(){if(!bd){if(this.readyState===4){var bH=JSON.parse(bG.responseText);var bI=true;if(this.status===200&&bI){if(bH.status==="success"){bi=Number(bH.lat);aZ=Number(bH.lon);U=bH.city;at=bH.region;country=bH.countryCode;ad.innerHTML="<span id='city'>"+U+",</span><span id='region'> "+at+"</span><span class='"+country.toLowerCase()+"' id='country' title='"+country+"'></span> <span class='svgIcon' id='gps_compass'>"+s+"</span>";aT.style.display="none";au()}else{aT.style.display="block";aW=false}}else{aT.style.display="block";aW=false}}}};bG.open("GET","https://extreme-ip-lookup.com/json/",true);bG.send()}function N(){ad.innerHTML=bb}function aw(bG){aT.style.display="none";bi=bG.coords.latitude;aZ=bG.coords.longitude;ad.innerHTML=U+" ("+bi.toFixed(2)+" | "+aZ.toFixed(2)+")";au()}function au(){if(bo){y="weather.php?lat="+bi+"&lon="+aZ+"&lang="+D+"&units="+M}else{y="https://api.openweathermap.org/data/2.5/weather?";y+="lat="+bi+"&lon="+aZ+"&lang="+D+"&units="+M+"&APPID="+a7}if(!bd){af();bd=true}}function af(){q.innerHTML=by+"<br />"+b;var bG=new XMLHttpRequest();if(bo){bG.responseType="document"}else{bG.responseType="text"}bG.onreadystatechange=function(){if(this.readyState===4&&this.status===200){var bH=bo?bG.response.body.textContent:bG.responseText;bj=JSON.parse(bH);n(bj)}};bG.open("GET",y,true);bG.send()}function n(b2){if(!aW){U=b2.name;at="";ad.innerHTML=O+U+" ("+bi.toFixed(2)+" | "+aZ.toFixed(2)+")"+ai}var bO=b2.main.pressure;var b1=bO/10;var bX,bS,bR,bV,bH,bQ,bI,bZ,bG,bL;var bX=new Date(b2.sys.sunrise*1000);var bR=new Date();var bS=new Date(b2.sys.sunset*1000);var bV=bX.getHours()+"."+bX.getMinutes();var bH=bR.getHours()+"."+bR.getMinutes();var bQ=bS.getHours()+"."+bS.getMinutes();var bI=bQ-bH;var bZ=bQ-bV;var bG=bI*100;var bL=bG/bZ;var b0=":root{";b0+="--hPa:"+b1+"deg;";b0+="--windeg:"+b2.wind.deg+"deg;";(b2.wind.speed<=1)?wSpeed=1:wSpeed=b2.wind.speed;b0+="--windspeed:"+wSpeed+";";b0+="--sunPosition:"+bL+"%;";b0+="}";bk.innerHTML=b0;var bP='<li id="wd_hilowtemp">';bP+=O;bP+="Hourly Max | Min: ";bP+=b2.main.temp_max+L;bP+=aM;bP+=b2.main.temp_min+L;bP+=ai;var b3='<li id="wd_location">';b3+=V;b3+=O;b3+='<a href="https://openweathermap.org/city/';b3+=b2.id;b3+='" title="">';b3+=bi.toFixed(2);b3+=aM;b3+=aZ.toFixed(2);b3+="</a>";b3+=ai;var bM='<li id="wd_pressure">';bM+=S;bM+=O;bM+=b2.main.pressure;bM+=a2;bM+=ai;var bY='<li id="wd_humidity">';bY+=ae;bY+=O;bY+=b2.main.humidity;bY+=bx;bY+=ai;var bW='<li id="wd_wind">';bW+=aD;bW+=O;bW+=b2.wind.speed;bW+=aR;bW+=ai;if(b2.wind.deg!=null){bW+=O;bW+=E(b2.wind.deg);bW+=ai;bW+=P;bW+=bF;bW+=J;bW+=b2.wind.deg.toFixed(0);bW+="° ";bW+=E(b2.wind.deg);bW+=t;bW+=j;bW+="windirection";bW+=C}var bN='<li id="wd_sunrise">';bN+=al;bN+=O;bN+=new Date(b2.sys.sunrise*1000).toLocaleTimeString(F);bN+=ai;var bT='<li id="wd_sunset">';bT+=bA;bT+=O;bT+=new Date(b2.sys.sunset*1000).toLocaleTimeString(F);bT+=ai;aG.innerHTML=bW+bM+bY+bN+bT+b3;am.className="visible";var bU=b2.weather[0];k.className="weather i-"+bU.icon;k.style.opacity=1;k.innerHTML=P+j+bU.icon+C;var bK=b2.main.temp;var bJ=aJ;bJ+=O;bJ+=bK;bJ+=L;bJ+=ai;bJ+=O;bJ+=bU.description;bJ+=ai;q.innerHTML=bJ;aa(b2);aX()}function aa(bI){var bG=bI.wind.speed;if(bG>=0&&bG<=0.2){aC=0;aS=aB+ak+bn}if(bG>=0.3&&bG<=1.5){aC=1;aS=m+ak+aB}if(bG>=1.6&&bG<=3.3){aC=2;aS=X+ak+aB}if(bG>=3.4&&bG<=5.4){aC=3;aS=aA+ak+aB}if(bG>=5.5&&bG<=7.9){aC=4;aS=a0+ak+aB}if(bG>=8&&bG<=10.7){aC=5;aS=bz+ak+bB}if(bG>=10.8&&bG<=13.8){aC=6;aS=v+ak+bB}if(bG>=13.9&&bG<=17.1){aC=7;aS=ab+ak+bB}if(bG>=17.2&&bG<=20.7){aC=8;aS=aH+ak+bB}if(bG>=20.8&&bG<=24.4){aC=9;aS=ba+ak+bB}if(bG>=24.5&&bG<=28.4){aC=10;aS=aF+ak+w}if(bG>=28.5&&bG<=32.6){aC=11;aS=a8+ak+ac}if(bG>=32.7&&bG<=36.9){aC=12;aS=c+ak+aI}if(bG>=37&&bG<=41.4){aC=13;aS=H+ak+aI}if(bG>=41.5&&bG<=46.1){aC=14;aS=ao+ak+aI}if(bG>=46.2&&bG<=50.9){aC=15;aS=aQ+ak+aI}if(bG>=51&&bG<=56){aC=16;aS=bq+ak+aI}if(bG>=56.1&&bG<=61.2){aC=17;aS=r+ak+aI}if(aC>=0&&aC<=2){aP=0}if(aC>=3&&aC<=4){aP=1}if(aC>=5&&aC<=6){aP=2}if(aC>=7&&aC<=8){aP=3}if(aC>=9&&aC<=10){aP=4}if(aC>=11&&aC<=17){aP=5}var bH=av+aC+aj+ak+aS;var bJ=P;bJ+=bF;bJ+=bH;bJ+=t;bJ+=j;bJ+="bf"+aP;bJ+=C;R.className="windspeed i-"+aC+"bf";R.innerHTML=bJ}function E(bI){var bG=[348.75,326.25,303.75,281.25,258.75,236.25,213.75,191.25,168.75,146.25,123.75,101.25,78.75,56.25,33.75,11.25,0];for(var bH=0;bH<bG.length;bH++){if(bI>bG[bH]){return ap[bH]}}return"__"}function aX(){if(bj){var bG=bj.weather[0];bt=Number(bj.sys.sunset);e=Number(bj.sys.sunrise);ah();G=(bG.description.indexOf(bu)>=0);br=(bG.description.indexOf(be)>=0)||bG.description.indexOf(a5)>=0;f.style.display=br?"block":"none";f.style.opacity=aq?0.75:1;ay=(bG.description.indexOf(bm)>=0);a6.style.display=ay?"block":"none";a6.style.opacity=aq||z?0.05:0.1;Q=(bG.description.indexOf(ag)>=0);I.style.display=Q?"block":"none";I.style.opacity=aq?0.1:0.75;d=(bG.description.indexOf(aV)>=0||(G&&!aq));a3.style.display=d?"block":"none";aE=(bG.description.indexOf(bu)>=0)&&aq;l=(bG.description.indexOf(az)>=0);bp.style.display=l?"block":"none";bp.style.opacity=aq?0.75:0.85;if(aq&&l){aE=true}bv.style.display=aE||z||h?"block":"none";bv.style.opacity=z||h?0.2:1}}function ah(){var bK=aU.getTime()/1000;var bI=aq;var bH=new Date(e*1000);var bG=new Date(bt*1000);aq=bK>=bt+1740||bK+900<=e;z=bK-bt<1740&&bK-(bt-bG.getSeconds()-1)>=0;h=e-bK<900&&e-(bK+bH.getSeconds()+1)>=0;if(aq!==bI){if(aq){a.style.background="#121212 linear-gradient(to bottom left, #121212 10%,#333955 100%)"}else{a.style.background="#87ceeb linear-gradient(to bottom left, #87ceeb 0%,#ccc 100%)"}a.style.color=aq?"#fff":"#333";a.style.textShadow=aq?"1px 1px 1px black":"2px 2px 4px white"}var bJ=bj.weather[0];if(aq&&bJ.icon.substring(2,3)==="d"){bJ.icon=bJ.icon.substring(0,2)+"n"}if(!aq&&bJ.icon.substring(2,3)==="n"){bJ.icon=bJ.icon.substring(0,2)+"d"}k.className="weather i"+bJ.icon;k.innerHTML=P+j+bJ.icon+C}function bs(bH,bG){return Math.floor(Math.random()*(bG-bH+1))+bH}})();(function(){var b={};var d,c,a;var e=document;var c=e.getElementById("gps");var a=e.getElementById("forecast");b.clean=function(h){var j,g,f=h.childNodes.length;if(f===0){return}for(g=f;g>0;g-=1){j=h.childNodes[g-1];if(j.nodeType===8||(j.nodeType===3&&!/\S/.test(j.nodeValue))){h.removeChild(j)}}};setTimeout(function(){b.clean(c);b.clean(a)},2000)})();