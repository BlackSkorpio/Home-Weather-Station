/*! Home Weather Station weather.js
 *  Copyright  (c) 2015-2019 Bjarne Varoystrand - bjarne ○ kokensupport • com
 *  License: MIT
 *  @author Bjarne Varoystrand (@black_skorpio)
 *  @version 1.2.0
 *  @description Forked from the ShearSpire Media Weather Clock by Steven Estrella (https://www.shearspiremedia.com)
 *               First introduced here: https://css-tricks.com/how-i-built-a-gps-powered-weather-clock-with-my-old-iphone-4/
 *  http://varoystrand.se | http://kokensupport.com
**/
(function(){var bL=true;var bh=true;var bA=false;var G=true;var bu="9aa352a903101d13f7be396a2414e280";var J="se";var V="metric";var a4,b3,bc,bX,by,p,ag,b2,ad,Q,aM,aH,bD,j,F,a3,R,bT,bB,bs,bJ,av,bg,aP;var x,aN,bq,i,E,aU,am,bS,ah,v,aV,B,bd,aK,bK,o,ai,aQ,bl,bY,y,ap,a0,bx,aY,bv,c,N,aE,ba,bN,s,aR,bm,b0,z,aq,a1;var aj,bC,A,aF,a5,bw,aS,a9,ay,P,T,ac;var S,bb,ax,bn,bW,L;var Z,b6,u,k,H,az,aW,I,an,W,an,bz,bI,b5;var t,af,b4,aA,bZ,bE,ak,w,at,aT,ab,a2,b1,b;switch(J){case"se":bX="Läser in vädret";by="GEO-location service är inte tillgänglig, försök igen senare.";p="GPS: ";b3="Kordinater: ";bq="Längd- och latitudkoordinater baseras på den IP-adress du har tilldelats av din operatör, <br /> och används av oss för att bestämma var du befinner dig.";ag="Min/Max temperatur idag: ";b2="Lufttryck: ";am="Lufttrycket, även känt som atmosfärstryck, är kraften per enhetsarea som utövas på en yta av vikten av luft ovanför den ytan i atmosfären av en planet.<br />I de flesta fall är atmosfärstrycket nära approximerat av det hydrostatiska trycket som orsakas av luftens vikt över mätpunkten.";ad="Luftfuktighet: ";aU="Luftfuktighet är vattendammmassan i den totala massan av torr luft i en viss volym luft vid en viss temperatur. I huvudsak ju varmare luften är desto mer vatten kan luften innehålla.<br />Relativ luftfuktighet blir förhållandet med högsta absoluta luftfuktighet mot den aktuella absoluta fuktigheten, som är beroende av aktuell lufttemperatur.";Q="Vindhastighet: ";ah="Prognoserna för vindhastighet och riktning är medelvärdet av dessa vindar och lulls, mätt över 10 minuter i en höjd av 10 meter över havet. Gustarna under en 10-minutersperiod är typiskt 40% högre än den genomsnittliga vindhastigheten.";bc="Vindriktning: ";bS="Vindriktningen är baserad på sann nordlig orientering och är den riktning som vinden blåser från. Till exempel blåser en nordlig vind från norr mot söder.<br />Vindhastighet och riktning kan påverkas väsentligt av lokal miljö. Klippor och andra landskapsfunktioner kommer att påverka vindar nära stranden.";aM="Soluppgång: ";E="Klockslag när solen börjar gå upp.";aH="Solnedgång: ";i="Klockslag när solen börjar gå ner.";bD="Gyllene timmen: ";j="Morgonens gyllene timmen (mjukt ljus, bästa tiden för fotografering) slutar.";F="Kvällens gyllene timmen börjar";a3="Månen går upp: ";aN="Klockslag när månen börjar gå upp.";R="Månen går ner: ";x="Klockslag när månen börjar gå ner.";a4="Beaufort Skalan: ";v="Beaufort vindskala mäter vindhastighet beroende på vindens påverkan på mark och hav. Även om systemet är gammalt (först utvecklat 1805 av Sir Francis Beaufort), förblir det ett mycket vanligt system för att mäta vindhastighet idag.";aK="Vindstyrka i beaufort: ";bK="Lugnt";o="Svag vind";ai=o;aQ="Måttlig vind";bl=aQ;bY="Frisk vind";y=bY;ap="Hård vind";a0=ap;bx="Mycket hård vind";aY="Storm";bv="Svår storm";c="Orkan";N=c;aE=c;ba=c;bN=c;s=c;aR="Eller bara tillräckligt för att ge styrfart.";bm="Or that in which a man-of-war, with all sail set, and clean full, would go in smooth water, from";ap="High wind, moderate gale, near gale";b0="Or that to which a well-conditioned man-of-war could just carry in chase, full and by";z="Eller det som hon knappt kunde bära nära revet huvudstorsegel och revs framåt.";aq="Or that which would reduce her to storm stay-sails.";a1="Eller det som ingen segelduk kunde klara av.";B="Icon legend";aV="Förklaring till vad de olika ikonerna representerar.";bC=["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"];A=["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"];aF=["N","NNV","NV","VNV","V","VSV","SV","SSV","S","SSÖ","SÖ","ÖSÖ","Ö","ÖNÖ","NÖ","NNÖ","N"];break;default:bX="getting weather";by="IP address location service is unavailable.";p="GPS: ";b3="Location: ";bq="Length and latitude coordinates are based on the IP address assigned to you by your operator, <br /> and used by us to determine your location.";ag="Hourly Max | Min: ";b2="Pressure: ";am="Air pressure also known as atmospheric pressure is the force per unit area exerted on a surface by the weight of air above that surface in the atmosphere of a planet.<br />In most circumstances atmospheric pressure is closely approximated by the hydrostatic pressure caused by the weight of air above the measurement point.";ad="Humidity: ";aU="Humidity is the water vapor mass contained within the total mass of dry air inside a specified volume of air at a specific temperature. Essentially, the hotter the air is, the more water the air can contain.<br />Relative humidity becomes the ratio of highest absolute humidity against the current absolute humidity, which is dependent on current air temperature.";Q="Winds: ";ah="The forecasts of wind speed and direction are the average of these gusts and lulls, measured over a 10-minute period at a height of 10 metres above sea level. The gusts during any 10-minute period are typically 40% higher than the average wind speed.";bc="Wind direction: ";bS="The wind direction is based on true north orientation and is the direction the wind is blowing from. For example, a northerly wind is blowing from the north towards the south.<br />Wind speed and direction can be influenced significantly by the local environment. Cliffs and other landscape features will affect winds near the shore.";aM="Sunrise: ";E="Time when the sun begins to rise";aH="Sunset: ";i="Time when the sun begins to set";bD="Golden hour: ";j="morning golden hour (soft light, best time for photography) ends";F="evening golden hour starts";a3="Moon Rises: ";aN="Time when the moon begins to rise";R="Moon Sets: ";x="Time when the moon begins to set";a4="Beaufort Scale: ";v="The Beaufort wind scale measures wind speed according to the impact the wind has on the land and sea. Although the system is old (first developed in 1805 by Sir Francis Beaufort), it remains a widely used system to measure wind speed today.";aK="Beaufort number: ";bK="Calm";o="Light air";ai="Light breeze";aQ="Gentle breeze";bl="Moderate breeze";bY="Fresh breeze";y="Strong breeze";ap="Moderate gale";a0="Fresh gale";bx="Strong gale";aY="Whole gale";bv="Storm";c="Hurricane";N=c;aE=c;ba=c;bN=c;s=c;aR="Or just sufficient to give steerage way.";bm="Or that in which a man-of-war, with all sail set, and clean full, would go in smooth water, from";ap="High wind, moderate gale, near gale";b0="Or that to which a well-conditioned man-of-war could just carry in chase, full and by";z="Or that which she could scarcely bear close-reefed main-topsail and reefed foresail.";aq="Or that which would reduce her to storm stay-sails.";a1="Or that which no canvas could withstand.";B="Icon legend";aV="Explanation on what the different icons represents.";bC=["January","February","March","April","May","June","July","August","September","October","November","December"];A=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];aF=["N","NNW","NW","WNW","W","WSW","SW","SSW","S","SSE","SE","ESE","E","ENE","NE","NNE","N"]}switch(V){case"metric":S="°C";bb="ms";ax="bft";bn=" hPa";bW="%";L="eu";break;case"imperial":S="°F";bb="mph";ax="bft";bn=" hPa";bW="%";L="en";break;default:S="°K";bb="mph";ax="bft";bn=" hPa";bW="%";L="en"}var a6="<span class='divider'>|</span>";var ay="&#013;";var Z='<svg class="svgIcon" role="img">';var b6='<title style="white-space:pre-line;margin:0 10px 0 10px;">';var u="</title>";var k='<use xlink:href="#';var H='" /></svg>';var az="<summary>";var aW="</summary>";var I="<span>";var W='<span class="dataText">';var an="</span>";var bz='<time class="dataText" datetime="';var bI='">';var b5="</time>";var t=Z+k+"compass_rose"+H;var af=Z+b6+p+u+k+"location"+H;var aA=Z+b6+aM+u+k+"sunrise"+H;var bZ=Z+b6+aH+u+k+"sunset"+H;var bE=Z+b6+bD+u+k+"goldenhour"+H;var ak=Z+b6+a3+u+k+"moonrise"+H;var w=Z+b6+R+u+k+"moonset"+H;var at=Z+b6+ad+u+k+"humidity"+H;var aT=Z+b6+Q+u+k+"windspeed"+H;var ab=Z+b6+b2+u+k+"pressure"+H;var a2=Z+b6+S+u+k+"temperatur"+H;var b1=Z+k+"windirection"+H;var b='<svg class="getting" role="img">'+b6+bX+u+k+"weatherDude"+H;var b4=Z+k+"bf1"+H;var aB,a,bH,bf,a7,al,aZ,aC,bO;var bF,bk,aI,ar,be;var ae="";var C,r,l,aa;var bG,h;var bR=0;var e=0;var g,bt,O,bo,bU,bM;var aG,bP,aO,Y,d,aX,M,m,D,f;document.addEventListener("DOMContentLoaded",bV,false);function bV(){var b7=window.location.href;if(b7.indexOf("localhost:")>=0||b7.indexOf("file:")>=0){bL=false}if(G){var b8=new XMLHttpRequest();b8.open("GET","img/sprite.svg",true);b8.send();b8.onload=function(ca){var b9=document.createElement("div");b9.className="svgSprite";b9.innerHTML=b8.responseText;document.body.insertBefore(b9,document.body.childNodes[0])}}document.getElementsByTagName("html")[0].setAttribute("lang",J);aB=document.querySelector("main");a=document.getElementById("container");bH=document.getElementById("svgValues");a7=document.getElementById("date");al=document.getElementById("time");r=document.getElementById("weather");aC=document.getElementById("details");aZ=document.getElementById("weatherdetails");ar=document.getElementById("gps");aa=document.getElementById("beaufort");bO=document.getElementById("modal");l=document.getElementById("icon");g=document.getElementById("cloudlayer");bt=document.getElementById("rainlayer");O=document.getElementById("snowlayer");bo=document.getElementById("sunlayer");bU=document.getElementById("clearnightlayer");bM=document.getElementById("mistlayer");be=document.getElementById("gpsbutton");be.addEventListener("click",bj,false);h=bQ(0,14);bj();q();setInterval(q,1000)}function q(){var b9=br();a7.innerHTML=b9.datehtml;al.innerHTML=b9.timehtml;a7.dateTime=bf.toISOString();al.dateTime=bf.toISOString();var b8=bf.getSeconds();var b7=bf.getMinutes();if(bA&&b8===0){bi();if(b7%15===h){au()}if(b7%5===0&&!bh){bj()}}}function br(){bf=new Date();var cf=bf.getFullYear();var ce=bC[bf.getMonth()];var b9=bf.getDate();var cg=A[bf.getDay()];var cb=bf.getHours();var ca=bf.getMinutes();var ch=bf.getSeconds();var cj=ca<10?"0"+ca:ca;var cd=ch<10?"0"+ch:ch;if(V=="metric"){var b7=cb<10?"0"+cb:cb;var ci=cg+" "+b9+" "+ce+" "+cf;var cc=b7+":"+cj+"<span>:"+cd+"</span>"}else{var b8=cb<12?"AM":"PM";var b7=cb>12?cb-12:cb;if(cb===0){b7=12}var ci=cg+", "+ce+" "+b9+", "+cf;var cc=b7+":"+cj+"<span>:"+cd+" "+b8+"</span>"}return{datehtml:ci,timehtml:cc}}function bj(){if(bh){a8()}else{aD()}}function aD(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(aL,U)}else{ar.innerHTML=by;bA=false}}function a8(){var b7=new XMLHttpRequest();b7.onreadystatechange=function(){if(!bA){if(this.readyState===4){var b8=JSON.parse(b7.responseText);var b9=true;if(this.status===200&&b9){if(b8.status==="success"){bF=Number(b8.lat);bk=Number(b8.lon);ae=b8.city;aI=b8.region;country=b8.countryCode;ar.innerHTML="<span id='city'>"+ae+",</span><span id='region'> "+aI+"</span><span id='country'> ("+country+")</span> <span class='svgIcon' id='gps_compass'>"+t+"</span>";be.style.display="none";aJ()}else{be.style.display="block";bh=false}}else{be.style.display="block";bh=false}}}};b7.open("GET","https://extreme-ip-lookup.com/json/",true);b7.send()}function U(){ar.innerHTML=by}function aL(b7){be.style.display="none";bF=b7.coords.latitude;bk=b7.coords.longitude;ar.innerHTML=ae+" ("+bF.toFixed(2)+" | "+bk.toFixed(2)+")";aJ()}function aJ(){if(bL){C="weather.php?lat="+bF+"&lon="+bk+"&lang="+J+"&units="+V}else{C="https://api.openweathermap.org/data/2.5/weather?";C+="lat="+bF+"&lon="+bk+"&lang="+J+"&units="+V+"&APPID="+bu}if(!bA){au();bA=true}}function au(){r.innerHTML=bX+"<br />"+b;var b7=new XMLHttpRequest();if(bL){b7.responseType="document"}else{b7.responseType="text"}b7.onreadystatechange=function(){if(this.readyState===4&&this.status===200){var b8=bL?b7.response.body.textContent:b7.responseText;bG=JSON.parse(b8);n(bG)}};b7.open("GET",C,true);b7.send()}function n(cv){if(!bh){ae=cv.name;aI="";ar.innerHTML=W+ae+" ("+bF.toFixed(2)+" | "+bk.toFixed(2)+")"+an}var cg=cv.main.pressure;var cu=cg/10;function cj(cx){return +(Math.round(cx+"e+2")+"e-2")}var cq,cl,ck,co,b8,ci,ca,cs,b7,cd;var cq=new Date(cv.sys.sunrise*1000);var ck=new Date();var cl=new Date(cv.sys.sunset*1000);var co=cq.getHours()+"."+cq.getMinutes();var b8=ck.getHours()+"."+ck.getMinutes();var ci=cl.getHours()+"."+cl.getMinutes();var ca=ci-b8;var cs=ci-co;var cd=cj(ca)/cj(cs)*100;var b9="right "+cj(cd);var ct=":root{";ct+="--hPa:"+cu+"deg;";ct+="--windeg:"+cv.wind.deg+"deg;";ct+="--sunPosition:"+b9+"%;";ct+="}";bH.innerHTML=ct;var ch='<li id="wd_hilowtemp">';ch+=W;ch+="Hourly Max | Min: ";ch+=cv.main.temp_max+S;ch+=a6;ch+=cv.main.temp_min+S;ch+=an;var cw='<li id="wd_location">';cw+=af;cw+=W;cw+='<a href="https://openweathermap.org/city/';cw+=cv.id;cw+='" title="">';cw+=bF.toFixed(2);cw+=a6;cw+=bk.toFixed(2);cw+="</a>";cw+=an;var ce='<li id="wd_pressure">';ce+=ab;ce+=W;ce+=cv.main.pressure;ce+=bn;ce+=an;var cr='<li id="wd_humidity">';cr+=at;cr+=W;cr+=cv.main.humidity;cr+=bW;cr+=an;var cp='<li id="wd_wind">';cp+=aT;cp+=W;cp+=cv.wind.speed;cp+=bb;cp+=an;if(cv.wind.deg!=null){cp+=W;cp+=K(cv.wind.deg);cp+=an;cp+=Z;cp+=b6;cp+=Q;cp+=cv.wind.deg.toFixed(0);cp+="° ";cp+=K(cv.wind.deg);cp+=u;cp+=k;cp+="windirection";cp+=H}var cf='<li id="wd_sunrise">';cf+=aA;cf+=W;cf+=new Date(cv.sys.sunrise*1000).toLocaleTimeString(L);cf+=an;var cm='<li id="wd_sunset">';cm+=bZ;cm+=W;cm+=new Date(cv.sys.sunset*1000).toLocaleTimeString(L);cm+=an;aZ.innerHTML=cp+ce+cr+cf+cm+cw;var cn=cv.weather[0];l.className="weather i-"+cn.icon;l.style.opacity=1;l.innerHTML=Z+k+cn.icon+H;var cc=cv.main.temp;var cb=a2;cb+=W;cb+=cc;cb+=S;cb+=an;cb+=W;cb+=cn.description;cb+=an;r.innerHTML=cb;ao(cv);bi();X(cv);bp()}function ao(b9){var b7=b9.wind.speed;if(b7>=0&&b7<=0.2){aS=0;bd=aR+ay+bK}if(b7>=0.3&&b7<=1.5){aS=1;bd=o+ay+aR}if(b7>=1.6&&b7<=3.3){aS=2;bd=ai+ay+aR}if(b7>=3.4&&b7<=5.4){aS=3;bd=aQ+ay+aR}if(b7>=5.5&&b7<=7.9){aS=4;bd=bl+ay+aR}if(b7>=8&&b7<=10.7){aS=5;bd=bY+ay+b0}if(b7>=10.8&&b7<=13.8){aS=6;bd=y+ay+b0}if(b7>=13.9&&b7<=17.1){aS=7;bd=ap+ay+b0}if(b7>=17.2&&b7<=20.7){aS=8;bd=a0+ay+b0}if(b7>=20.8&&b7<=24.4){aS=9;bd=bx+ay+b0}if(b7>=24.5&&b7<=28.4){aS=10;bd=aY+ay+z}if(b7>=28.5&&b7<=32.6){aS=11;bd=bv+ay+aq}if(b7>=32.7&&b7<=36.9){aS=12;bd=c+ay+a1}if(b7>=37&&b7<=41.4){aS=13;bd=N+ay+a1}if(b7>=41.5&&b7<=46.1){aS=14;bd=aE+ay+a1}if(b7>=46.2&&b7<=50.9){aS=15;bd=ba+ay+a1}if(b7>=51&&b7<=56){aS=16;bd=bN+ay+a1}if(b7>=56.1&&b7<=61.2){aS=17;bd=s+ay+a1}if(aS>=0&&aS<=2){a9=0,P=75,T=55,ac=35}if(aS>=3&&aS<=4){a9=1,P=65,T=45,ac=35}if(aS>=5&&aS<=6){a9=2,P=60,T=40,ac=30}if(aS>=7&&aS<=8){a9=3,P=55,T=35,ac=25}if(aS>=9&&aS<=10){a9=4,P=45,T=25,ac=15}if(aS>=11&&aS<=17){a9=5,P=35,T=15,ac=5}var b8=aK+aS+ax+ay+bd;var ca=Z;ca+=b6;ca+=b8;ca+=u;ca+=k;ca+="bf"+a9;ca+=H;ca+="<style>.cloud{--windspeed-s:"+P+"s;--windspeed-m:"+T+"s;--windspeed-f:"+ac+"s;}</style>";aa.className="windspeed i-"+aS+"bf";aa.innerHTML=ca}function X(cG){var ck,cq,ch,co,b7,cn,cv,cc,b8,b9,cB,cm,cu,ci,cj,cs,cE,cr,cz,cC,cd;var ck=document.querySelector("#modal");var cq=document.querySelector("#modal-overlay");var ch=document.querySelector("#close-button");var cb=document.querySelector("#open-button");var co="closed";var b7="aria-hidden";var cn="tabindex";var cv="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";var cc=document.getElementById("Modal_Title");var b8=document.getElementById("Modal_Description");var b9=document.getElementById("dt_bft");var cB=document.getElementById("dt_windspeed");var cm=document.getElementById("dt_windirection");var cu=document.getElementById("dt_pressure");var ci=document.getElementById("dt_humidity");var cj=document.getElementById("dt_sunrise");var cs=document.getElementById("dt_sunset");var cE=document.getElementById("dt_location");var cr=document.getElementById("dt_moonrise");var cz=document.getElementById("dt_moonset");var cC=document.getElementById("dt_morningold");var cd=document.getElementById("dt_eveningold");var cD=az;cD+=b4+a4;cD+=aW;cD+=I;cD+=v;cD+=an;var cx=az;cx+=aT+Q;cx+=aW;cx+=I;cx+=ah;cx+=an;var cy=az;cy+=b1+bc;cy+=aW;cy+=I;cy+=bS;cy+=an;var cg=az;cg+=ab+b2;cg+=aW;cg+=I;cg+=am;cg+=an;var cl=az;cl+=at+ad;cl+=aW;cl+=I;cl+=aU;cl+=an;var ce=az;ce+=aA+aM;ce+=aW;ce+=I;ce+=E;ce+=an;var cH=az;cH+=bZ+aH;cH+=aW;cH+=I;cH+=i;cH+=an;var cF=az;cF+=af+b3;cF+=aW;cF+=I;cF+=bq;cF+=an;var cw=az;cw+=ak+a3;cw+=aW;cw+=I;cw+=aN;cw+=an;var cp=az;cp+=w+R;cp+=aW;cp+=I;cp+=x;cp+=an;var ca=az;ca+=bE+bD;ca+=aW;ca+=I;ca+=j;ca+=an;var ct=az;ct+=bE+bD;ct+=aW;ct+=I;ct+=F;ct+=an;cc.innerHTML=B;b8.innerHTML=aV;b9.innerHTML=cD;cB.innerHTML=cx;cm.innerHTML=cy;cu.innerHTML=cg;ci.innerHTML=cl;cj.innerHTML=ce;cs.innerHTML=cH;cE.innerHTML=cF;cr.innerHTML=cw;cz.innerHTML=cp;cC.innerHTML=ca;cd.innerHTML=ct;var cf=function(){ck.querySelector(cv).focus();cq.classList.remove(co);ck.classList.remove(co);var cI=aB.querySelectorAll(cv);cI.forEach(function(cJ){return cJ.setAttribute(cn,"-1")});ck.removeAttribute(b7);aB.setAttribute(b7,"true")};var cA=function(){cq.classList.add(co);ck.classList.add(co);var cI=aB.querySelectorAll(cv);cI.forEach(function(cJ){return cJ.removeAttribute(cn)});ck.setAttribute(b7,"true");aB.removeAttribute(b7);cb.focus()};cb.addEventListener("click",function(){cf()});document.addEventListener("keyup",function(cI){if(cI.keyCode===27&&ck.classList.contains(co)!==true){cA()}});[cq,ch].forEach(function(cI){cI.addEventListener("click",function(){cA()})})}function bp(){var b9="#details, #beaufort, #open-button";var b7=aB.querySelectorAll(b9);var b8="visible";b7.forEach(function(ca){return ca.classList.add(b8)})}function K(b9){var b7=[348.75,326.25,303.75,281.25,258.75,236.25,213.75,191.25,168.75,146.25,123.75,101.25,78.75,56.25,33.75,11.25,0];for(var b8=0;b8<b7.length;b8++){if(b9>b7[b8]){return aF[b8]}}return"__"}function bi(){if(bG){var b8=bG.weather[0];var b7=b8.id;console.debug("WeatherID: "+b7+"\n"+b8.description);bR=Number(bG.sys.sunset);e=Number(bG.sys.sunrise);aw();M=(800<b7&&b7<803);bP=(801<=b7&&b7<805);g.style.display=bP?"block":"none";g.style.opacity=aG?0.75:1;isDrizzle=(300<=b7&&b7<321);aO=(500<b7&&b7<531);bt.style.display=aO||isDrizzle?"block":"none";bt.style.opacity=aG||D?0.75:1;Y=(600<b7&&b7<622);O.style.display=Y?"block":"none";O.style.opacity=aG?0.1:0.75;d=(b7==800||(M&&!aG));bo.style.display=d?"block":"none";aX=(b7==800&&aG);m=(b7==701);bM.style.display=m?"block":"none";bM.style.opacity=aG?0.75:0.85;if(aG&&m){aX=true}bU.style.display=aX||D||f?"block":"none";bU.style.opacity=D||f?0.2:1}}function aw(){var cb=bf.getTime()/1000;var b9=aG;var b8=new Date(e*1000);var b7=new Date(bR*1000);aG=cb>=bR+1740||cb+900<=e;D=cb-bR<1740&&cb-(bR-b7.getSeconds()-1)>=0;f=e-cb<900&&e-(cb+b8.getSeconds()+1)>=0;if(aG!==b9){if(aG){a.style.background="#121212 linear-gradient(to bottom left, #121212 10%,#333955 100%)"}else{a.style.background="#87ceeb linear-gradient(to bottom left, #87ceeb 0%,#ccc 100%)"}a.style.color=aG?"#fff":"#333";a.style.textShadow=aG?"1px 1px 1px black":"2px 2px 4px white"}var ca=bG.weather[0];if(aG&&ca.icon.substring(2,3)==="d"){ca.icon=ca.icon.substring(0,2)+"n"}if(!aG&&ca.icon.substring(2,3)==="n"){ca.icon=ca.icon.substring(0,2)+"d"}l.className="weather i"+ca.icon;l.innerHTML=Z+k+ca.icon+H}function bQ(b8,b7){return Math.floor(Math.random()*(b7-b8+1))+b8}})();(function(){var b={};var d,c,a;var e=document;var c=e.getElementById("gps");var a=e.getElementById("forecast");var f=e.getElementById("rain");b.clean=function(j){var k,h,g=j.childNodes.length;if(g===0){return}for(h=g;h>0;h-=1){k=j.childNodes[h-1];if(k.nodeType===8||(k.nodeType===3&&!/\S/.test(k.nodeValue))){j.removeChild(k)}}};setTimeout(function(){b.clean(c);b.clean(a);b.clean(f)},2000)})();