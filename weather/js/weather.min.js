(function(){var bn=true;var aW=true;var bd=false;var B=true;var a7="9aa352a903101d13f7be396a2414e280";var D="se";var M="metric";var bx,bb,o,W,bC,T,J,ax,ar,bg,i,A,aK,K,bt,be,a5,bl,ag,aV,az;var aS,av,bm,m,X,aA,a0,by,v,ab,aH,ba,aF,a8,c,H,ao,aQ,bp,r,aB,a1,bA,w,ac,aI;var bf,x,ap,aL,a9,aC,aP,ak;var L,aR,aj,a2,bw,F;var P,bE,t,j,C,O,ai,bc,bk,bD;var s,V,al,bz,bh,Y,u,ae,aD,S,aJ,bB,b;switch(D){case"se":bx="Läser in vädret";bb="GEO-location service är inte tillgänglig, försök igen senare.";o="GPS: ";W="Min/Max temperatur idag:<br>";bC="Lufttryck: ";T="Luftfuktighet: ";J="Vindhastighet: ";ax="Soluppgång: ";ar="Solnedgång: ";bg="Golden hour: ";i="morning golden hour (soft light, best time for photography) ends";A="evening golden hour starts";aK="Månen går upp: ";K="Månen går ner: ";bt="klar";be="mulet";a5="moln";bl="regn";ag="snö";aV="sol";az="dimm";av="Vindstyrka i beaufort: ";bm="Lugnt";m="Svag vind";X=m;aA="Måttlig vind";a0=aA;by="Frisk vind";v=by;ab="Hård vind";aH=ab;ba="Mycket hård vind";aF="Storm";a8="Svår storm";c="Orkan";H=c;ao=c;aQ=c;bp=c;r=c;aB="Or just sufficient to give steerage way.";a1="Or that in which a man-of-war, with all sail set, and clean full, would go in smooth water, from";ab="High wind, moderate gale, near gale";bA="Or that to which a well-conditioned man-of-war could just carry in chase, full and by";w="Or that which she could scarcely bear close-reefed main-topsail and reefed foresail.";ac="Or that which would reduce her to storm stay-sails.";aI="Or that which no canvas could withstand.";bf=["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"];x=["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"];ap=["N","NNV","NV","VNV","V","VSV","SV","SSV","S","SSÖ","SÖ","ÖSÖ","Ö","ÖNÖ","NÖ","NNÖ","N"];break;default:bx="getting weather";bb="IP address location service is unavailable.";o="GPS: ";W="Min/Max temperatur idag:<br>";bC="Pressure: ";T="Humidity: ";J="Winds: ";ax="Sunrise: ";ar="Sunset: ";bg="Golden hour: ";i="morning golden hour (soft light, best time for photography) ends";A="evening golden hour starts";aK="Moon Rises: ";K="Moon Sets: ";bt="clear";be="cloud";bl="rain";ag="snow";aV="sun";az="mist";av="Beaufort number: ";bm="Calm";m="Light air";X="Light breeze";aA="Gentle breeze";a0="Moderate breeze";by="Fresh breeze";v="Strong breeze";ab="Moderate gale";aH="Fresh gale";ba="Strong gale";aF="Whole gale";a8="Storm";c="Hurricane";H=c;ao=c;aQ=c;bp=c;r=c;aB="Or just sufficient to give steerage way.";a1="Or that in which a man-of-war, with all sail set, and clean full, would go in smooth water, from";ab="High wind, moderate gale, near gale";bA="Or that to which a well-conditioned man-of-war could just carry in chase, full and by";w="Or that which she could scarcely bear close-reefed main-topsail and reefed foresail.";ac="Or that which would reduce her to storm stay-sails.";aI="Or that which no canvas could withstand.";bf=["January","February","March","April","May","June","July","August","September","October","November","December"];x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];ap=["N","NNW","NW","WNW","W","WSW","SW","SSW","S","SSE","SE","ESE","E","ENE","NE","NNE","N"]}switch(M){case"metric":L="°C";aR="ms";aj="bft";a2=" hPa";bw="%";F="eu";break;case"imperial":L="°F";aR="mph";aj="bft";a2=" hPa";bw="%";F="en";break;default:L="°K";aR="mph";aj="bft";a2=" hPa";bw="%";F="en"}var aM="<span class='divider'>|</span>";var ak="&#013;";var P='<svg class="svgIcon" role="img">';var bE='<title style="white-space:pre-line;margin:0 10px 0 10px;">';var t="</title>";var j='<use xlink:href="#';var C='" /></svg>';var O='<span class="dataText">';var ai="</span>";var bc='<time class="dataText" datetime="';var bk='">';var bD="</time>";var s=P+j+"compass_rose"+C;var V=P+bE+o+t+j+"location"+C;var al=P+bE+ax+t+j+"sunrise"+C;var bz=P+bE+ar+t+j+"sunset"+C;var bh=P+bE+bg+t+j+"goldenhour"+C;var Y=P+bE+aK+t+j+"moonrise"+C;var u=P+bE+K+t+j+"moonset"+C;var ae=P+bE+T+t+j+"humidity"+C;var aD=P+bE+J+t+j+"windspeed"+C;var S=P+bE+bC+t+j+"pressure"+C;var aJ=P+bE+L+t+j+"temperatur"+C;var bB=P+j+"windirection"+C;var b='<svg class="getting" role="img">'+bE+bx+t+j+"weatherDude"+C;var a,aU,aN,Z,aG,am;var bi,aZ,at,ad,aT;var U="";var y,q,k,R;var bj,g;var bs=0;var e=0;var f,a6,I,a3,bu,bo;var aq,bq,ay,Q,d,aE,G,l,z,h;document.addEventListener("DOMContentLoaded",bv,false);function bv(){var bF=window.location.href;if(bF.indexOf("localhost:")>=0||bF.indexOf("file:")>=0){bn=false}if(B){var bG=new XMLHttpRequest();bG.open("GET","img/sprite.svg",true);bG.send();bG.onload=function(bI){var bH=document.createElement("div");bH.className="svgSprite";bH.innerHTML=bG.responseText;document.body.insertBefore(bH,document.body.childNodes[0])}}document.getElementsByTagName("html")[0].setAttribute("lang",D);a=document.getElementById("container");aN=document.getElementById("date");Z=document.getElementById("time");q=document.getElementById("weather");am=document.getElementById("details");aG=document.getElementById("weatherdetails");ad=document.getElementById("gps");R=document.getElementById("beaufort");k=document.getElementById("icon");f=document.getElementById("cloudlayer");a6=document.getElementById("rainlayer");I=document.getElementById("snowlayer");a3=document.getElementById("sunlayer");bu=document.getElementById("clearnightlayer");bo=document.getElementById("mistlayer");aT=document.getElementById("gpsbutton");aT.addEventListener("click",aY,false);g=br(0,14);aY();p();setInterval(p,1000)}function p(){var bH=a4();aN.innerHTML=bH.datehtml;Z.innerHTML=bH.timehtml;aN.dateTime=aU.toISOString();Z.dateTime=aU.toISOString();var bG=aU.getSeconds();var bF=aU.getMinutes();if(bd&&bG===0){aX();if(bF%15===g){af()}if(bF%5===0&&!aW){aY()}}}function a4(){aU=new Date();var bN=aU.getFullYear();var bM=bf[aU.getMonth()];var bH=aU.getDate();var bO=x[aU.getDay()];var bJ=aU.getHours();var bI=aU.getMinutes();var bP=aU.getSeconds();var bR=bI<10?"0"+bI:bI;var bL=bP<10?"0"+bP:bP;if(M=="metric"){var bF=bJ<10?"0"+bJ:bJ;var bQ=bO+" "+bH+" "+bM+" "+bN;var bK=bF+":"+bR+"<span>:"+bL+"</span>"}else{var bG=bJ<12?"AM":"PM";var bF=bJ>12?bJ-12:bJ;if(bJ===0){bF=12}var bQ=bO+", "+bM+" "+bH+", "+bN;var bK=bF+":"+bR+"<span>:"+bL+" "+bG+"</span>"}return{datehtml:bQ,timehtml:bK}}function aY(){if(aW){aO()}else{an()}}function an(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(aw,N)}else{ad.innerHTML=bb;bd=false}}function aO(){var bF=new XMLHttpRequest();bF.onreadystatechange=function(){if(!bd){if(this.readyState===4){var bG=JSON.parse(bF.responseText);var bH=true;if(this.status===200&&bH){if(bG.status==="success"){bi=Number(bG.lat);aZ=Number(bG.lon);U=bG.city;at=bG.region;country=bG.countryCode;ad.innerHTML="<span id='city'>"+U+",</span><span id='region'> "+at+"</span><span id='country'> ("+country+")</span> <span class='svgIcon' id='gps_compass'>"+s+"</span>";aT.style.display="none";au()}else{aT.style.display="block";aW=false}}else{aT.style.display="block";aW=false}}}};bF.open("GET","https://extreme-ip-lookup.com/json/",true);bF.send()}function N(){ad.innerHTML=bb}function aw(bF){aT.style.display="none";bi=bF.coords.latitude;aZ=bF.coords.longitude;ad.innerHTML=U+" ("+bi.toFixed(2)+" | "+aZ.toFixed(2)+")";au()}function au(){if(bn){y="weather.php?lat="+bi+"&lon="+aZ+"&lang="+D+"&units="+M}else{y="https://api.openweathermap.org/data/2.5/weather?";y+="lat="+bi+"&lon="+aZ+"&lang="+D+"&units="+M+"&APPID="+a7}if(!bd){af();bd=true}}function af(){q.innerHTML=bx+"<br />"+b;var bF=new XMLHttpRequest();if(bn){bF.responseType="document"}else{bF.responseType="text"}bF.onreadystatechange=function(){if(this.readyState===4&&this.status===200){var bG=bn?bF.response.body.textContent:bF.responseText;bj=JSON.parse(bG);n(bj)}};bF.open("GET",y,true);bF.send()}function n(bK){if(!aW){U=bK.name;at="";ad.innerHTML=O+U+" ("+bi.toFixed(2)+" | "+aZ.toFixed(2)+")"+ai}var bI=bK.main.pressure;var bS=bI/10;var bR='<style id="svgValues">symbol{';bR+="--hPa:";bR+=bS;bR+="deg;";bR+="--windeg:";bR+=bK.wind.deg;bR+="deg;";bR+="}</style>";var bG='<li id="wd_hilowtemp">';bG+=O;bG+="Hourly Max | Min: ";bG+=bK.main.temp_max+L;bG+=aM;bG+=bK.main.temp_min+L;bG+=ai;var bH='<li id="wd_location">';bH+=V;bH+=O;bH+='<a href="https://openweathermap.org/city/';bH+=bK.id;bH+='" title="">';bH+=bi.toFixed(2);bH+=aM;bH+=aZ.toFixed(2);bH+="</a>";bH+=ai;var bM='<li id="wd_pressure">';bM+=S;bM+=O;bM+=bK.main.pressure;bM+=a2;bM+=ai;var bQ='<li id="wd_humidity">';bQ+=ae;bQ+=O;bQ+=bK.main.humidity;bQ+=bw;bQ+=ai;var bO='<li id="wd_wind">';bO+=aD;bO+=O;bO+=bK.wind.speed;bO+=aR;bO+=ai;if(bK.wind.deg!=null){bO+=O;bO+=E(bK.wind.deg);bO+=ai;bO+=P;bO+=bE;bO+=J;bO+=bK.wind.deg.toFixed(0);bO+="° ";bO+=E(bK.wind.deg);bO+=t;bO+=j;bO+="windirection";bO+=C}var bJ='<li id="wd_sunrise">';bJ+=al;bJ+=O;bJ+=new Date(bK.sys.sunrise*1000).toLocaleTimeString(F);bJ+=ai;var bL='<li id="wd_sunset">';bL+=bz;bL+=O;bL+=new Date(bK.sys.sunset*1000).toLocaleTimeString(F);bL+=ai;aG.innerHTML=bR+bO+bM+bQ+bJ+bL+bH;am.className="visible";var bF=bK.weather[0];k.className="weather i-"+bF.icon;k.style.opacity=1;k.innerHTML=P+j+bF.icon+C;var bN=bK.main.temp;var bP=aJ;bP+=O;bP+=bN;bP+=L;bP+=ai;bP+=O;bP+=bF.description;bP+=ai;q.innerHTML=bP;aa(bK);aX()}function aa(bH){var bF=bH.wind.speed;if(bF>=0&&bF<=0.2){aC=0;aS=aB+ak+bm}if(bF>=0.3&&bF<=1.5){aC=1;aS=m+ak+aB}if(bF>=1.6&&bF<=3.3){aC=2;aS=X+ak+aB}if(bF>=3.4&&bF<=5.4){aC=3;aS=aA+ak+aB}if(bF>=5.5&&bF<=7.9){aC=4;aS=a0+ak+aB}if(bF>=8&&bF<=10.7){aC=5;aS=by+ak+bA}if(bF>=10.8&&bF<=13.8){aC=6;aS=v+ak+bA}if(bF>=13.9&&bF<=17.1){aC=7;aS=ab+ak+bA}if(bF>=17.2&&bF<=20.7){aC=8;aS=aH+ak+bA}if(bF>=20.8&&bF<=24.4){aC=9;aS=ba+ak+bA}if(bF>=24.5&&bF<=28.4){aC=10;aS=aF+ak+w}if(bF>=28.5&&bF<=32.6){aC=11;aS=a8+ak+ac}if(bF>=32.7&&bF<=36.9){aC=12;aS=c+ak+aI}if(bF>=37&&bF<=41.4){aC=13;aS=H+ak+aI}if(bF>=41.5&&bF<=46.1){aC=14;aS=ao+ak+aI}if(bF>=46.2&&bF<=50.9){aC=15;aS=aQ+ak+aI}if(bF>=51&&bF<=56){aC=16;aS=bp+ak+aI}if(bF>=56.1&&bF<=61.2){aC=17;aS=r+ak+aI}if(aC>=0&&aC<=2){aP=0}if(aC>=3&&aC<=4){aP=1}if(aC>=5&&aC<=6){aP=2}if(aC>=7&&aC<=8){aP=3}if(aC>=9&&aC<=10){aP=4}if(aC>=11&&aC<=17){aP=5}var bG=av+aC+aj+ak+aS;var bI=P;bI+=bE;bI+=bG;bI+=t;bI+=j;bI+="bf"+aP;bI+=C;R.className="windspeed i-"+aC+"bf";R.innerHTML=bI}function E(bH){var bF=[348.75,326.25,303.75,281.25,258.75,236.25,213.75,191.25,168.75,146.25,123.75,101.25,78.75,56.25,33.75,11.25,0];for(var bG=0;bG<bF.length;bG++){if(bH>bF[bG]){return ap[bG]}}return"__"}function aX(){if(bj){var bF=bj.weather[0];bs=Number(bj.sys.sunset);e=Number(bj.sys.sunrise);ah();G=(bF.description.indexOf(bt)>=0);bq=(bF.description.indexOf(be)>=0)||bF.description.indexOf(a5)>=0;f.style.display=bq?"block":"none";f.style.opacity=aq?0.75:1;ay=(bF.description.indexOf(bl)>=0);a6.style.display=ay?"block":"none";a6.style.opacity=aq||z?0.05:0.1;Q=(bF.description.indexOf(ag)>=0);I.style.display=Q?"block":"none";I.style.opacity=aq?0.1:0.75;d=(bF.description.indexOf(aV)>=0||(G&&!aq));a3.style.display=d?"block":"none";aE=(bF.description.indexOf(bt)>=0)&&aq;l=(bF.description.indexOf(az)>=0);bo.style.display=l?"block":"none";bo.style.opacity=aq?0.75:0.85;if(aq&&l){aE=true}bu.style.display=aE||z||h?"block":"none";bu.style.opacity=z||h?0.2:1}}function ah(){var bJ=aU.getTime()/1000;var bH=aq;var bG=new Date(e*1000);var bF=new Date(bs*1000);aq=bJ>=bs+1740||bJ+900<=e;z=bJ-bs<1740&&bJ-(bs-bF.getSeconds()-1)>=0;h=e-bJ<900&&e-(bJ+bG.getSeconds()+1)>=0;if(aq!==bH){if(aq){a.style.background="#121212 linear-gradient(to bottom left, #121212 10%,#333955 100%)"}else{a.style.background="#87ceeb linear-gradient(to bottom left, #87ceeb 0%,#ccc 100%)"}a.style.color=aq?"#fff":"#333";a.style.textShadow=aq?"1px 1px 1px black":"2px 2px 4px white"}var bI=bj.weather[0];if(aq&&bI.icon.substring(2,3)==="d"){bI.icon=bI.icon.substring(0,2)+"n"}if(!aq&&bI.icon.substring(2,3)==="n"){bI.icon=bI.icon.substring(0,2)+"d"}k.className="weather i"+bI.icon;k.innerHTML=P+j+bI.icon+C}function br(bG,bF){return Math.floor(Math.random()*(bF-bG+1))+bG}})();(function(){var b={};var d,c,a;var e=document;var c=e.getElementById("gps");var a=e.getElementById("forecast");b.clean=function(h){var j,g,f=h.childNodes.length;if(f===0){return}for(g=f;g>0;g-=1){j=h.childNodes[g-1];if(j.nodeType===8||(j.nodeType===3&&!/\S/.test(j.nodeValue))){h.removeChild(j)}}};setTimeout(function(){b.clean(c);b.clean(a)},2000)})();